<h1>Todo</h1>

<div id="block-signup" class="block">
  <h2>Edit <%= resource_name.to_s.humanize %></h2>
  <div class="content">
    <div class="flash">
      <% resource.errors.full_messages.each do |message| %>
        <div class="message alert">
          <p><%= message %></p>
        </div>
      <% end %>
    </div>
    <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), 
      :html => { :method => :put, :multipart => true, :class => "form" }) do |f| %>
      <div class="group">
        <%= f.label :username, :class => "label" %>
        <%= f.text_field :username, :class => "text_field" %>
        <span class="description">must be at least 3 characters</span>
      </div>
      <div class="group">
        <%= f.label :name, :class => "label" %>
        <%= f.text_field :name, :class => "text_field" %>
        <span class="description">can't be blank</span>
      </div>
      <div class="group">
        <%= f.label :email, :class => "label" %>
        <%= f.text_field :email, :class => "text_field" %>
        <span class="description">Ex. test@example.com</span>
      </div>
      <div class="group">
        <%= f.label :password, :class => "label" %>
        <%= f.password_field :password, :class => "text_field" %>
        <span class="description">(leave blank if you don't want to change it)</span>
      </div>
      <div class="group">
        <%= f.label :password_confirmation, "Re-enter Password", :class => "label" %>
        <%= f.password_field :password_confirmation, :class => "text_field" %>
      </div>
      <div class="group">
        <%= f.label :current_password, :class => "label" %>
        <%= f.password_field :current_password, :class => "text_field" %>
        <span class="description">(we need your current password to confirm your changes)</span>
      </div>
      <div class="group">
        <%= image_tag(@user.avatar_url(:thumb)) if @user.avatar? %>
        <%= f.label :avatar, :class => "label" %>
        <%= f.file_field :avatar %>
        <%= f.hidden_field :avatar_cache %>
      </div>
      <div class="group navform wat-cf">
        <button class="button" type="submit">
          <%= image_tag "web-app-theme/icons/tick.png" %>
          Update
        </button>
      </div>
    <% end %>
    
    <h3>Cancel my account</h3>

    <p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete %>.</p>

    <%= link_to "Back", :root %>

  </div>
</div>
